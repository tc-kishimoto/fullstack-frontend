# PHP_演習問題

---

## PHP基礎

---

### 変数（値の入れ替え）

以下のようなプログラムを作成しなさい。
※ファイル名は任意。

処理概要

* 変数「\$x」と「\$y」を用意し、適当な値を代入する。
* \$xと\$yの値を入れ替える。
* 画面に「\$x=\<\$xの値\>, \$y=\<\$yの値\>」と表示する。

例えば、\$x=11, \$y=22 と代入した場合
「\$x=22, \$y=11」
と表示する。

---

### 演算1

以下のようなプログラムを作成しなさい。

処理概要

* 変数を２つ用意し、それぞれに数値を代入する。
* ２つの変数の加算、減算、乗算、除算、剰余の結果を表示する

結果イメージ

```text
加算の結果は 15
減算の結果は 5
乗算の結果は 50
除算の結果は 2
剰余の結果は 0
```

---

### 演算2

以下のようなプログラムを作成しなさい。

処理概要

* 変数を２つ用意し、それぞれに数値を代入する。
* ２つの変数の加算、減算、乗算、除算、剰余の結果を表示する

結果イメージ

```text
$x + $y = 15
$x - $y = 5
$x * $y = 50
$x / $y =  2
$x % &y =  0
```

---

### エスケープシーケンス

以下の結果イメージと同じ画面表示をするプログラムを作成しなさい。

結果イメージ

```text
この "りんご" の値段は ¥100 です。
この 'みかん' の値段は ¥70 です。
```

---

### コメント

演習問題で作成したプログラムに対してコメントを書いてください。
ソースコードに対して処理の概要を日本語で書いてください。

---

## フォームとの連携

---

### 入力値の出力

以下のようなプログラムを作成しなさい。

* 画面
  * 入力項目２つ（text1, text2）
  * 送信ボタン
* 処理概要
  * ボタン押下時にtext1とtext2の値を文字列結合して出力する。

画面イメージ

![picture 4](/images/4a1284b3634bec559a181cbedde56c600792e54d820c2096ec04f683e7e33d47.png)  

---

### 選択値の出力

* 画面
  * ラジオボタン（赤（value:red）,黄（value:yellow）,青（value:blue））
  * 送信ボタン
* 処理概要
  * ボタン押下時に選択した色の値を出力する。

![picture 5](/images/94cf61281cdb8f2f2b8abd7e4ca1ca72f1726211d22ac6dfd6d67d55f9db5b3c.png)  

---

## 条件分岐

---

### 補足説明

文字の数値変換

これ以降の演習問題では、文字を数値変換して処理する場面が出てきます。
文字を数値に変換するには以下のようにします。

```php
$str = '10';
// 文字の数値変換
$num = (int)$str;
```

---

### 条件分岐（数値比較）

以下のようなプログラムを作成しなさい。

* 画面
  * 数値の入力項目を２つ(num1, num2)
  * 送信ボタン
* 処理概要
  * ボタン押下時にnum1とnum2を比較し、どちらが大きいかを出力する。
  * 値が等しい場合は等しいと出力する。

画面イメージ

![picture 6](/images/d3a9b7eac35851be84252be4d4df575aeb051f330c520bf592cb16e469a34369.png)  

---

### 条件分岐（偶奇判断）

以下のようなプログラムを作成しなさい。

* 画面
  * 数値の入力項目1つ
  * 送信ボタン
* 処理概要
  * 入力された数値が偶数か奇数かを判定する。
  * 奇数の場合は「奇数です」偶数の場合は「偶数です」と表示する。

画面イメージ

![picture 7](/images/3520edda4dd17771ce6ba00d46895054af0aefe9e4c35806790c245425758f27.png)  

---

### 条件分岐（演算）

以下のようなプログラムを作成しなさい。

* 画面
  * テキストボックスによる入力項目２つ（数値）
  * テキストボックスの間に演算子(+, -, *, /)を選択するプルダウン
  * 送信ボタン
* 処理概要
  * 入力された数値と、選択された演算子で計算を行い、計算結果を表示する。

画面イメージ

![picture 8](/images/eae90fee30b1b8564e85ebd6ae4cce8a9d52eab9264b7b4cd584e7a95f7d9b52.png)  

---

### 条件分岐（switch1）

switch文を使って以下のようなプログラムを作成しなさい。

* 画面
  * ラジオボタン（赤、黄、青）
  * 送信ボタン
* 処理概要
  * ラジオボタンの選択状態をもとに以下のように表示
    * "赤"を選択「赤ですね。進んではいけません。」 を表示
    * "黄"を選択「黄ですね。止まってください。」 を表示
    * "青"を選択「青ですね。進んでください。」を表示 
    * それ以外「赤、青、黄のいずれかを選択してください。」 を表示

画面イメージ

![picture 9](/images/b27a9a02c13e4c6583ce950e6577976f63cfbc8aba7bb9e67d74a84f657b7bb7.png)  

---

### 条件分岐（switch2）

switch文を使って以下のようなプログラムを作成しなさい。

* 画面
  * プルダウン（新橋、浜松町、田町、品川）
  * 送信ボタン
* 処理概要
  * ラジオボタンの選択状態をもとに以下のように表示 
    * "品川"の場合「東京まで 田町 浜松町 新橋 有楽町 を通過します」を表示 
    * "田町"の場合「東京まで 浜松町 新橋 有楽町 を通過します」を表示 
    * "浜松町"の場合「東京まで 新橋 有楽町 を通過します」を表示 
    * "新橋"の場合「東京まで 有楽町 を通過します」を表示

画面イメージ

![picture 10](/images/3937ca3b7e80397670fe628f5b1990e29e1fac93ecb85d6176503c08b8bb2e3e.png)  

---

## 繰り返し

---

### 繰り返し

以下のようなプログラムを作成しなさい。

* 画面
  * 文字入力用のテキストボックス１つ
  * 数値入力用のテキストボックス１つ
  * 送信ボタン
* 処理概要
  * 文字入力用のテキストボックスで入力した文字を、数値入力用のテキス
  * ボックスで入力した数値の分だけ繰り返し表示する。

画面イメージ

![picture 11](/images/625d7f3aae9c97971f296c1b94ff20a82e5a21af2f9337462c7434a9d1e09847.png)  

---

### 繰り返し（掛け算九九）

以下のようなプログラムを作成しなさい。

* 処理概要
  * 繰り返し構文を使って掛け算九九を一の段から九の段まで縦に表示する。
  * 段が切り替わるごとに区切り線を入れること。

結果イメージ

```text
1 × 1 = 1
1 × 2 = 2
…
1 × 9 = 9
--------------------
2 × 1  = 2
…

9 × 9 = 81
```

---

### 繰り返し（掛け算九九表）

以下のようなプログラムを作成しなさい。

* 処理概要
  * 繰り返し構文を使って掛け算九九表を表示する。
  * htmlのtableタグをうまく活用すること。

画面イメージ

```text
1 × 1 = 1     2 × 1 = 2     …     9 × 1 = 9
1 × 2 = 2     2 × 2 = 4     …     2 × 9 = 18
…
1 × 9 = 9     2 × 9 = 18    …    9 × 9 = 81       
```

---

### 繰り返し（図形の表示１）

以下のようなプログラムを作成しなさい。

* 処理概要
  * 繰り返し文を使って画面イメージと同じ出力になるプログラムを作成してください。

```text
*
**
***
****
*****
****
***
**
*
```

---

### 繰り返し（図形の表示２）

以下のようなプログラムを作成しなさい。
処理概要
繰り返し文を使って画面イメージと同じ出力になるプログラムを作成してください。

```text
*        *
**      **
***    ***
****  ****
**********
****  ****
***    ***
**      **
*        *
```

---

### 繰り返し（図形の表示３）

以下のようなプログラムを作成しなさい。

* 処理概要
  * 繰り返し文を使って画面イメージと同じ出力になるプログラムを作成してください。

```text
*        **       **        **
**      ****     ****      ****
***    ******   ******    ******
****  ******** ********  ********
**********************************
****  ******** ********  ********
***    ******   ******    ******
**      ****     ****      ****
*        **       **        **
```

### 繰り返し（合計値）

以下のようなプログラムを作成しなさい。

* 画面
  * 数値入力用のテキストボックス2つ(ループ最大値、合計最大値)
  * 送信ボタン
* 処理概要
  * １からループ最大数までの数値を合計し、合計値が入力した合計最大値を超えたらループを終了し、ループ回数を表示する。

画面イメージ

![picture 12](/images/5e496178b0120099c6e722eccccba49553723c1800e6a45e53bc50a4be8cbcd7.png)  

---

### 繰り返し（素数判定）

以下のようなプログラムを作成しなさい。

* 画面
  * 数値入力用のテキストボックス1つ
  * 送信ボタン
* 処理概要
  * 入力した数値が素数かどうかを判定して結果を表示する。

画面イメージ

![picture 13](/images/190c8e50c394b7235d962a5d68f84ed196d09c5c95bf962730531acee638fe16.png)  

---

## 配列

---

### 前提条件

配列の演習問題では以下の配列を使用するものとします。
あらかじめ配列を定義してから演習に取り掛かってください。

```php
// 配列の定義
$nums = [4, 7, 3, 5, 9, 1, 2, 8, 6];
```

---

### 配列（合計と平均）

以下のようなプログラムを作成しなさい。

* 処理概要
  * 配列の全ての要素の合計値と平均値を求めて画面に出力する。
  * ※合計は配列の関数は使用せずに、for文を使って求めましょう。

画面イメージ

```text
合計：45
平均：5
```

---

### 配列（逆順）

以下のようなプログラムを作成しなさい。

* 処理概要
  * 配列の全ての要素を逆順に出力する。
  * （添字が大きい順に出力する）

結果イメージ

```text
6, 8, 2, 1, 9, 5, 3, 7, 4
```

---

### 配列（探索）

以下のようなプログラムを作成しなさい。

* 画面
  * 数値入力用のテキストボックス１つ
  * 送信ボタン
* 処理概要
  * 入力した数値が配列の何番目の要素かを検索して表示する。
  * 見つからない場合は「検索結果なし」と表示

画面イメージ

![picture 14](/images/69d83a93bbb7f356602a0ee4f6ea80a2b7937bcbdd698b2a8c733c9da1d30b8e.png)  

---

### 配列（ソート）

以下のようなプログラムを作成しなさい。

* 処理概要
  * 配列の要素を値が小さい順に並べ替え、結果を画面に表示する。
  * ※sort関数を使用せずに実装してみてください。

結果イメージ

```text
1, 2, 3, 4, 5, 6, 7, 8, 9
```

---

### 配列（チェックボックス）

以下のようなプログラムを作成しなさい。

* 画面
  * チェックボックス（具材）
  * 送信ボタン
* 処理概要
  * 送信ボタン押下時にチェックボックスでチェックを入れた具材の合計金額を出力する。

![picture 15](/images/781240f717d3153f03a7e3d5a17dbfdfcf7f77d162d6cc66a3b930074b232ecf.png)  

---

### 配列（連想配列の表示）

以下のようなプログラムを作成しなさい。

* 処理概要
  * 以下のような２次元配列を作成し、foreach文を使って表形式で表示できるようにしてください。

```php
$score = [
 "english" => ["satou" => 70, "suzuki" => 75, "takahashi" => 65], "math" => ["satou" => 80, "suzuki" => 85, "takahashi" => 79], "japanese" => ["satou" => 74, "suzuki" => 78, "takahashi" => 80] 
];
```

---

### 配列（ソート【発展】）

※難しいと思うので余裕があればチャレンジしてみてください。
以下のようなプログラムを作成しなさい。

* 処理概要
  * 配列の要素を値が小さい順に並べ替え、結果を画面に表示する。
* 発展
  * 複数の要素を並び替える処理のことをソートと呼びます。
  * ソートには様々な種類があり、どのソートを使うかによって処理のコストが変わります。
  * ソートの種類を調べ、様々なソートで並び替える処理を作成してみてください。（バブルソート、挿入ソート、ヒープソートなど）

※どのソートで実装するかは自由ですが、効率が良いソートほど実装が難しい傾向にあります。

---

## 文字列と正規表現

---

### 文字列関数

以下のようなプログラムを作成しなさい。

* 画面
  * テキストボックス
  * 送信ボタン
* 処理概要
  * 入力された文字列の長さ、小文字に変換した文字列、大文字に変換した文字列を表示する。長さは日本語にも対応するようにする。

画面イメージ

![picture 16](/images/9bd4beef4aef4ecccd5c87d7e8e184fd6072539ece25c3e6c82fecdf7820d2e9.png)  

---

### 文字列関数2

以下のようなプログラムを作成しなさい。

* 画面
  * テキストボックス
  * 送信ボタン
* 処理概要
  * 「〇〇って△回言って」と入力すると、〇〇を△回繰り返して表示する。
  * 〇〇は任意の文字列、△は任意の数値を表すとします。

画面イメージ

![picture 17](/images/1325ec89aca23fcee241b497fd7745e9463fa67f36a63927da77aaac8278f58a.png)  

---

### 正規表現

以下のようなプログラムを作成しなさい。

* 画面
  * テキストボックス
  * 送信ボタン
* 処理概要
  * テキストボックスに入力された文字が郵便番号の形式（数字3桁-数字4桁）と一致するかをチェックして結果を表示する

画面イメージ

![picture 18](/images/aadec428c492252454e0aaedbf9291c3fea8805b457295140548332b8cc3b3cb.png)  

---

## 関数

---

### 関数（関数への書き換え）

繰り返しの演習問題で作成したプログラムについて。
画面で入力した値を受け取って処理しているプログラム（テキストボックスと送信ボタンがついているプログラム）を、関数を使用するプログラムに書き換えてください。
画面の入力値を引数として受け取り、戻り値の結果を画面に表示するようにしてください。

---

### 関数（関数定義）

それぞれの仕様を満たす関数を作成してください。
作成した関数は実行結果を画面に表示して確かめてください。
関数名は処理内容から適切に命名してください。

### 関数（FizzBuzz）

* 関数の概要
  * 引数：１つ（数値）
  * 戻り値：文字列
* 処理概要
  * 引数の数値が3で割り切れる時は「Fizz」を返す
  * 引数の数値が5で割り切れる時は「Buzz」を返す
  * 引数の数値が3と5の両方で割り切れる時は「FizzBuzz」を返す
  * それ以外の場合は数値をそのまま文字列にして返す

---

### 関数（閏年判定）

* 関数の概要
  * 引数：１つ（数値）
  * 戻り値：boolean
* 処理概要
  * 引数で受け取った値が閏年かどうかを判定し、結果をbooleanで返す
  * 閏年の条件
  * 西暦年数が100の倍数のときは400で割れる年、100の倍数でないときは4で割り切れる年を閏年とし、その他を平年とする。

よくわからなければネットを参考に調べましょう。

---

### 関数（フィボナッチ数列）

* 関数の概要
  * 引数：１つ（数値）
  * 戻り値：数値
* 処理概要
  * フィボナッチ数列のn番目の項を計算する処理を作成してください。
  * 引数で受け取った値をの項を計算する。
  * 処理を作成するにあたり、再起呼び出しを利用します。

※フィボナッチ数列、関数の再起呼び出しについては各自で調べて理解してください。

---

### 関数（無名関数）

無名関数を使って以下のようなプログラムを作成しなさい
処理概要
適当な数値が格納された要素数10の配列を用意
例： $nums = [10, 45, 22, 77, 34, 21, 200, 186, 22, 5]
用意した配列にarray_filter関数を適用して、偶数のみの要素を持つ新しい配列を作成してください。

---

## セッションとクッキー

---

### セッションとクッキー1

以下のようなプログラムを作成しなさい
処理概要
画面に1を表示。
カウントアップボタン押下で、数値をカウントアップして表示する。
クリアボタンで数値を1にリセットする。

画面イメージ

![picture 19](/images/eebd1f5e7db3572dba11ddd1e1b220c344143278fd73f6244278f07f4c6bad3e.png)  

---

### セッションとクッキー2

以下のようなプログラムを作成しなさい

* 画面
  * 配列の要素の表示
  * テキストボックス（数値）、追加ボタン、取り出しボタン
* 処理概要
  * 配列の要素（数値）を画面に表示。
  * 追加ボタン押下で、入力された数値を配列に追加して表示する。
  * 取り出しボタンで配列の最後の要素を取り出して表示。

![picture 20](/images/0af8cc0c233108b037005314538b8a0be7ae4704d322475abac8afbe600db424.png)  

---

## オブジェクト指向

---

### オブジェクト指向（クラス作成）

以下のようなクラスを作成しなさい

* クラス名：Student
* プロパティ：
  * 名前（アクセス修飾子はprivate）
  * PHPスコア（アクセス修飾子はprivate）
  * DBスコア（アクセス修飾子はprivate）
  * （変数名は適切な名前をつける）
* コンストラクタ：3つの引数をもち、それぞれの値をプロパティにセットする。
* メソッド
  * dispSumScore：PHPスコアとDBスコアの合計スコアを返す
  * 各プロパティに対するアクセッサメソッド

---

### オブジェクト指向（動作確認）

以下のようなプログラムを作成しなさい。

* 画面
  * 名前、PHPスコア、DBスコアの入力欄
  * 送信ボタン
  * 表（名前、PHPスコア、DBスコア、合計）
* 処理概要
  * 画面で入力した値を元に、前ページの演習で作成したクラスのインスタンスを作成し、表に追加して表示する

画面イメージ

![picture 21](/images/e47c54b85572df09fe5ab3a4783976965f49901aa6bf919e36e4aeaabe759002.png)  

**ヒント**

インスタンスを増やしていくには、インスタンスを配列に格納し、その配列をセッションに保存します。
インスタンスをセッションに格納するには、 serialize関数を使う必要があります。
セッションから値を取り出す場合には、 unserialize関数を使う必要があります。

サンプル

```php
$obj = new クラス名();
$_SESSION[obj'] = serialize($obj);
$obj = unserialize($_SESSION['obj']);
```

---

### オブジェクト指向（クラス作成）

以下のようなクラスを作成しなさい。

* クラス名：Address（連絡帳のアドレスのイメージ）
* プロパティ：
  * 名前（アクセス修飾子はprivate）
  * 読み仮名（アクセス修飾子はprivate ）
  * 電話番号（アクセス修飾子はprivate ）
  * メールアドレス（アクセス修飾子はprivate ）
* メソッド
  * dispAddress：名前、電話番号、メールアドレスの情報を人が見やすいように表示する
  * 各プロパティに対するアクセッサメソッド

---

### オブジェクト指向（クラス作成）

以下のようなクラスを作成しなさい

* クラス名：SmartPhone
* プロパティ：
  * 機種（アクセス修飾子はprivate）
  * 電話番号（アクセス修飾子はprivate ）
  * メールアドレス（アクセス修飾子はprivate ）
  * アドレス帳（一つ前の演習で作成したAddressのインスタンスを配列で保持）
* コンストラクタ
  * 機種と電話番号とメールアドレスを引数で受け取り、プロパティにセット
* メソッド
  * addAddress：Addressクラスのインスタンスを引数に取り、プロパティのアドレス帳に追加する
  * dispAddress：アドレス帳にある連絡先の情報を要素の数だけ出力する

---

## オブジェクト指向２

---

### オブジェクト指向２（スーパークラス）

以下のようなクラスを作成しなさい

* クラス名はDice
* サイコロの面は6面で1から6の目を持つ
* サイコロクラスは 振る ことができる
  * メソッド名は cast とする
  * 1から6のランダムな値を戻り値として返す
* サイコロクラスは 出目を確認する ことができる
  * メソッド名は see とする
  * 最後に 振った 時の目を戻り値として返す
  * 一度も 振った ことのないときは 1 を返す

---

### オブジェクト指向２（動作確認）

以下のようなプログラムを作成しなさい

* 画面
  * 数値入力用のテキストボックス
  * 送信ボタン
* 処理概要
  * Diceクラスのインスタンスを作成
  * 入力された数値の数だけサイコロをふり、それぞれの出た目の値を表示する

![picture 22](/images/5cb011a1b22c06eb01c13ffc6e46f22ea255caa357161336d4a626c990d12611.png)  

---

### オブジェクト指向２（サブクラス）

以下のようなクラスを作成しなさい

* Diceクラスを継承する
* クラス名はCheatDice
* CheatDiceは6回振ると6回目に必ず6の目が出る
* 上記と同様に12回目、18回目、……と6の倍数回目には必ず6が出る

以下のようなプログラムを作成しなさい

* 前ページの動作確認プログラムで作成するインスタンスをDiceクラスから
* CheatDiceクラスに変更する
* 実行して6の倍数回目で6が出ることを確認する

---

## DBとの連携

---

### 事前準備

事前に以下のproductsテーブルを作成しておいてください。
使用するデータベースは何でも構いません。

|id|product_name|price|category|
|:--|:--|:--|:--|
|1|チョコレート|180|1|
|2|緑茶|120|1
|3|ティッシュ|250|2|
|4|綿棒|80|2|
|5|ハンカチ|340|3|
|6|マグカップ|700|3|
|7|スマホケース|NULL|3|

---

以下のプログラムを作成しなさい。

処理概要

* productsテーブルの一覧を表形式で表示する

画面イメージ

![picture 23](/images/4c2f636e7f66111402ade36e7526af32cc0ca09b0cc4bb891fdc9e4066158f29.png)  

---

以下のようなプログラムを作成しなさい。

* 画面
  * テキストボックス
  * 送信ボタン
* 処理概要
  * テキストボックスを用意し、入力した値で商品名をあいまい検索してpoductテーブルのレコードを表示する。

画面イメージ

![picture 24](/images/5ee206a0228d57762c0a9422a952ada02e5ebd6bbf9a3ba8fa349f575fa6d4bb.png)  

---

## モデル

---

### モデルの作成

以下のようなプログラムを作成しなさい。

* 処理概要
* 一つ前の演習で作成したproductsテーブルの一覧表示用プログラムを、モデル（DAO）を使用したプログラムに修正して下さい。
productsに対するモデルを作成し、画面に表示するプログラムと切り分けてください。
モデルでは更新（inser, update, delete）の処理も実装してください。

---

以下のようなプログラムを作成しなさい。

* 処理概要
  * 一つ前の演習のプログラムに、データの登録用フォームを追加し、レコードの登録、更新、削除ができるようにプログラムを追加しなさい。

画面イメージ

![picture 25](/images/085bbcd6e76dfbb5918ca96a16e33fa1f74f1241004829b0cad779ebc0b70ec9.png)  

