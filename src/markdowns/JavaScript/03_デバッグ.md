# デバッグ（JavaScript）

---

## JavaScriptの実行環境

JavaScriptはプログラミング言語です。
開発規模が複雑になるとバグも発生しやすくなるため、デバッグの機能が求められます。

JavaScriptはブラウザ上で動作する言語です。
JavaScriptの動作環境はJDKやAPサーバー（Tomcat）とは無関係なため、Eclipseを使ってデバッグすることはできません。
JavaScriptのデバッグを行うには、Webブラウザのディベロッパーツールを使用します。

---

## JavaScriptのデバッグ

メジャーなWebブラウザではほとんどの場合開発者向けのツールが組み込まれています。
Google Chromeでも開発者向けのディベロッパーツールが用意されています。
ディベロッパーツールを使用することで、JavaScriptのデバッグが可能になります。

---

# ディベロッパーツール

---

## Google Chromeのディベロッパーツール

Google Chromeを起動している状態で、「F12」または
「Ctrl + Shift + i」押下でディベロッパーツールが起動します。
HTMLの要素の検証や、適用されているスタイル（CSS）の確認、JavaScriptの実行やデバッグ、リソースの確認など、様々な機能が用意されています。
設定により表示される場所を変更することが可能です。

---

## Elementsタブ

表示されているHTML要素の確認や、適用されているスタイル（CSS）の確認ができます。
Webアプリケーションでは、サーバー上で動作するプログラミング言語やJavaScriptなどから動的にHTMLが生成されます。
そのため、ソースコードを読んでも実際にWebブラウザで表示されるHTML要素が分からない場合もあります
その時にディベロッパーツールを使うことで要素の確認ができます。
スタイル（CSS）を追加してレイアウトを確認することもできます。

---

## Consoleタブ

JavaScriptのconsoleオブジェクトによる処理結果が表示されます。
console.logメソッドの実行結果などを確かめることができます。
また、直接JavaScriptのコードを実行することも可能です。
JavaScriptはJavaと違ってスクリプト言語（実行前にコンパイルを必要としない言語）であるため、任意のタイミングでプログラムを実行することが可能です。

---

## Sourceタブ

JavaScriptのソースコードの確認、及びデバッグができます。
表示されているWebページから認識できるソースコードを確認することがます。
ソースコード上の行数を選択すると、その部分がブレークポイント（処理がストップする場所）になります。

---

## その他のタブ

この他にもNetworkタブ、Applicationタブなど、様々な機能が用意されています。
リクエストやレスポンス内容の確認、クッキーの確認などもできます。
パフォーマンスが悪くなった場合の解析などもできます。
必要に応じて調べながら有効活用してください。

---

# JavaScriptのデバッグ

---

## Sourceタブでのデバッグ

F12押下でディベロッパーツールを開き、Sourceタブを開きます。
Pageタブのツリーからhtmlファイルやjsファイルを選択するとファイルの内容を確認することができます。
javaScriptのソースコードの行数部分をクリックすることで、ブレークポイント（処理が停止する箇所）を設定することができます。

![picture 2](/images/4fcc00e50450072af956879a79feb7dd257e869599e46456cf93de5c5512d667.png)  

---

Webページを再読み込みしたり、ボタン押下するなどしてJavaScriptの処理が走ったときに、ブレークポイントで処理が止まります。

![picture 3](/images/35d257f110130cd2f49a6210f190f59976633843d2908233480d3f127dfa4898.png)  

---

ショートカットキーは以下になります。

* F8：再開
* F10：ステップオーバー
* F11：ステップイン

ディベロッパーツール上のアイコンをクリックでもそれぞれ実行することができます。
ブレークポイントで処理が止まっている間は、ソースコード内の変数にカーソルをあてることで変数の中身を確認することができます。

![picture 4](/images/9099d5a2f3b57357361c1a825b07305e5080207fa38e350841cac11265c34581.png)  

---

ここではSourceタブでデバッガを使うデバッグ方法を紹介しました。
他にも、ソースコード内に「console.log」の処理を埋め込み、Consoleタブで出力結果を確認しながらデバッグする方法もあります。

いずれにせよ、JavaScriptの場合はブラウザのディベロッパーツールを有効に使うことでデバッグがスムーズになります。
ディベロッパーツールの機能をうまく使ってデバッグに活用してください。
