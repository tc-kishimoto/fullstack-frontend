# JDKライセンスについて

---

ここではJavaのライセンスについての解説します。
Java言語はリリースされてから長い間、無償で使用することができました。
しかし、2018年からJavaの有償化についての話が話題になりました。

ここで一度ライセンスに関して整理しておきます。
まず、Javaによる開発を行うためにはJDKが必要でした。
実はJDKにはいくつかの種類があり、Javaで開発・運用を行う際、どのJDKを使用するかがポイントになります。

JDKには大きく分けて2つの種類があります。
「OpenJDK」と「OracleJDK」の2つです。
まずはこの2つの違いを説明します。

## バージョン8以前の話

まず「Java 8」以前のOpenJDKとOracleJDKの違いについて説明します。
Javaの開発は基本的にOracle社が行っています。
OracleはOpenJDKとOracleJDKの両方を開発して提供しています。

OpenJDKの場合、ソースコードのみが提供されていました。
コンパイルされたファイル(バイナリファイル)は提供されていません。
ですのでOracleがリリースしたOpenJDKを利用する場合は、自分でソースコードを取得し、ビルドしてバイナリを作成する必要がありました。

一方、OracleJDKは、バイナリで提供されています。　　
OracleJDKの場合はOpenJDKとは逆でソースコードは公開されていません。
OracleJDKは、OpenJDKの機能にOracleが持っている機能やツール群を追加し、それが「OracleJDK」として提供されていました。
ライセンス形態はBCLライセンスです。
（無償で利用できて、複製・配布も可能）

そしてOracleは年に4回、Javaへのセキュリティパッチを適用しています。
この適用にはJDKのバグフィックスや、追加機能なども入ります。
適用の順序としては、まずOracleJDKに対してパッチを適用してリリースされます。
その後にOpenJDKに対しての適用が行われており、OracleJDKとOpenJDKで同期はとれていない状態でした。

それでもパッチの適用は行われていたため、無償でアップデートして最新の状態で利用することができました。

しかし、2019年の1月にJavaのJDK8のサポートが終了しました。
ここからは無償でのアップデートはできなくなりました。

### バージョン9以降の話

Java 9 からはOpenJDKとOracleJDKが、両方ともバイナリとして提供されます。
まずOpenJDKを修正し、その後OpenJDKとOracleJDKのバイナリがリリースされます。
リリースされた後は、年に2回(3月と9月)にフューチャー・リリース（新機能の追加）が行われます。
フューチャーリリースでは、バージョンの番号が上がります。
つまり、Java 9 以降は、半年ごとにバージョンが上がっていく仕組みになります。
各フューチャー・アップデートに対して2回ずつアップデート・リリース（脆弱性対策）が行われます。
OpenJDKのライセンスはGPLです。

この説明だけ見ると無償でOpenJDKだけを利用しても問題なさそうですが、問題はアップデートの終了のタイミングです。
Javaの新バージョンがリリースされると、旧バージョンのOpenJDKはアップデートがされなくなります。
つまり、実質半年だけしかアップデートが行えません。
つまり、バグやセキュリティの問題があったとしても、更新ができなくなります。

同じバージョンを利用しながらアップデートを続けるには、OracleJDKの有償サポートを受ける必要があります。

また、商用でOracleJDKを利用する場合には、ライセンスが必須になるそうです。

もしOpenJDKを使用する場合、Javaのバージョンが上がるたびに(つまり半年ごとに)システムのJavaのバージョンも連動して上げていくような運用にすれば最新状態のJavaでシステムの運用は可能となります。

JDKは、Oracle以外のベンダーも提供しています。
Red HatやAWSなども。

## JDKのまとめ

- JDKにはOpenJDKとOracleJDKがある。
- OpenJDKは無償。OracleJDKは有償。
- Java 9 以降、OpenJDKはリリース後半年間しかアップデートされない。
- OracleJDKは、長期で同じバージョンを使用する場合のアップデート、有償版のアップデート、メールやWebでの問い合わせが可能。
- OracleJDKのライセンスはマシンプラス使う人数分。

## Java 9以降まとめ

- リリースは、フューチャー・リリース(年2回：3月と9月)とアップデート・リリースがある。
- アップデート・リリースはフューチャー・リリースに対して2回行われる。
つまり、フューチャー・リリースとアップデート・リリースを合わせて、年に6回リリースが行われる。
- これまでOracleが有償で提供していた機能の一部が、JDK11からは無償で利用できる。
- ライセンスはGPLに統一。
- 機能的にはOracleJDKとOpenJDKに差異はなくなった
