# Java 演習問題8

---

## 対象となる単元

* 継承

---

## 基本

演習問題7(基本)で作成したゲームアプリ実行ページを改修します。

※「adv/lesson3-basic」ブランチにチェックアウトし、演習問題7(基本)で作成したブランチをマージして作業を進めてください。

[リポジトリ](https://github.com/tc-kishimoto/java-advanced-practice-lesson/tree/adv/lesson3-basic)

### 変更点概要

* GameAppクラスを継承したCardGameAppクラスを作成します。
* "トランプ"、"ゲーム"、いずれかのアプリを遊べるようにします。

![image](https://user-images.githubusercontent.com/88996090/149852296-3fb00215-5bf2-41a3-8802-469dd3c5f51b.png)

### アプリの実行結果表示

* "トランプ"を選んだ場合  
「〇〇さんとトランプでゲームを開始します。ババ抜きを行います。」と表示する(〇〇は入力したユーザー名)　　

![image](https://user-images.githubusercontent.com/88996090/149852699-485a603e-0ee9-42b8-beaf-7e85e70a8864.png)

* "ゲーム"を選んだ場合  
「〇〇さんと何かでゲームを開始します。」と表示する(演習問題2(基本)から変更なし)  

![image](https://user-images.githubusercontent.com/88996090/149852793-eb25887d-140d-4e30-b117-199f5c298ff7.png)  

* 初期状態、およびユーザ名未入力の場合  
実行結果を表示しない(演習問題2(基本)から変更なし)  

### CardGameAppクラス

下記に従い、CardGameAppクラスを作成してください。　　

|クラス名|親クラス|説明|
|--------|-------|----|
|CardGameApp(パッケージ名は"app")|GameApp|GameAppクラスを継承する|

<フィールド>  
CardGameAppクラス個別のフィールドは定義しない。

<コンストラクタ(2つ)>

|引数|処理|
|----|----|
|なし|親クラスの引数なしコンストラクタを呼ぶ|
|String|親クラスの引数なしコンストラクタを呼ぶ|

<メソッド(1つ)>

|戻り値|引数|メソッド名|処理|
|------|----|---------|----|
|String|String|start|親クラスのstartメソッドをオーバーライド。<br>"〇〇さんと××でゲームを開始します。ババ抜きを行います。"という文字列を返却する。<br>〇〇は引数の値<br>××はitemフィールドの値|

### 補足

* appStart.jsp  

アプリを選択するためのラジオボタンを追加してください。

初期値はトランプにしてください。

* GameApp.java  

演習問題2(基本)で作成した処理のまま、変更はありません。

* StartAppServlet.java  

配布されたファイルに対し、必要な処理を実装してください。

プログラム完成後、作成したファイルをプッシュし、URLを講師に伝えてください。

---

## 発展

「dev/lesson3」ブランチで配布された以下のファイルを使用します。

[リポジトリ](https://github.com/tc-kishimoto/java-advanced-practice-lesson/tree/adv/lesson3-dev)

* input.jsp ... 人物登録画面(実装済み)
* result.jsp ... 結果画面(実装済み)
* InputServlet.java ... input.jspから遷移し、入力値の判定、登録処理、次画面への遷移などの処理を行う。
* Human.java ... 登録画面で入力した人物の情報用のクラス(実装済み)

## 概要

![image](https://user-images.githubusercontent.com/88996090/149857623-b4143a0d-9d31-4efe-af17-70c6e5860fe8.png)

![image](https://user-images.githubusercontent.com/88996090/149857670-beb2b9ba-01eb-44c3-b663-87b8e328ea7e.png)

### 簡易登録時の登録結果表示

選択した出身地によって、下記のメッセージを表示します。
|出身地|表示内容|
|------|-------|
|![image](https://user-images.githubusercontent.com/88996090/149859774-0f17aa79-2095-4c28-99d8-77bb2756474c.png)|名前：名無し、言語：不明、出身地：不明|
|![image](https://user-images.githubusercontent.com/88996090/149858248-ce3030fd-96be-4260-a7bf-dd6571fb9903.png)|名前：名無し、言語：日本語、出身地：日本。日本の公用語は「日本語」です。|
|![image](https://user-images.githubusercontent.com/88996090/149859871-38dc79c4-80f7-42bd-8051-712bf59b735b.png)|名前：名無し、言語：英語、出身地：アメリカ。アメリカの公用語は「英語」です。|

簡易登録後、名前は「名無し」とします。

### 詳細登録時の登録結果表示

名前と言語は、画面で入力した値を表示します。

出身地は、簡易登録の出身地の表示と同じです。

![image](https://user-images.githubusercontent.com/88996090/149860095-169be1e7-fb1f-4f6f-a0ee-aa28de6d8525.png)

登録画面で入力した値(名前など)は、オブジェクトでまとめて管理します。

選択した出身地によって、下記のクラスを元にオブジェクトを作成します。

* 選択なし ... Humanクラス  
* 日本 ... Japaneseクラス  
* アメリカ ... Americanクラス  

JapaneseクラスとAmericanクラスはHumanクラスを継承した子クラスとします。

![image](https://user-images.githubusercontent.com/88996090/149860315-d36b081f-5518-4c99-a46d-2835ee477a54.png)

### Humanクラス(実装済み)

登録画面で入力した値(名前、言語)を保持するためのクラスです。

出身地を選択していない際にオブジェクトを作成して使用します。

<フィールド(2つ)>

|フィールド名|型|説明|
|-----------|--|----|
|name|String|入力した名前を保持する|
|language|String|入力した言語を保持する|

<コンストラクタ(2つ)>  

|引数|処理|
|----|----|
|なし|フィールドに初期値をセットする|
|String, String|引数の値が未入力でない場合、フィールドに引数の値を初期値としてセットする|

<メソッド(2つ)>

|戻り値|引数|メソッド名|処理|
|------|---|----------|----|
|String|なし|returnHumanInfo|人物情報を返却する。<br>"名前：〇〇、言語：△△、出身地：××"<br>という文字列を返却する。<br>〇〇はnameフィールドの値<br>△△はlanguageフィールドの値<br>××はrerutnBirthPlaceInfoメソッドの戻り値|
|String|なし|returnBirthPlaceInfo|"出身地：不明"という文字列を返却する。<br>このメソッドは継承したクラス側でオーバーライドする。|

### Japaneseクラス

下記に従い、クラスを作成してください。
|クラス名|親クラス|説明|
|--------|-------|----|
|Japanese|Human|Humanクラスを継承する|

<フィールド>  
Japaneseクラス個別のフィールドは定義しない。

<コンストラクタ(2つ)>  

|引数|処理|
|----|----|
|なし|親クラスのコンストラクタを呼ぶことでフィールドに初期値をセットする。<br>ただしlanguageフィールドには、別途必要な文字列をセットする|
|String, String|親クラスのコンストラクタを呼ぶことで、フィールドに引数の値を初期値としてセットする|

<メソッド(1つ)>

|戻り値|引数|メソッド名|処理|
|------|---|----------|----|
|String|なし|returnBirthPlaceInfo|親クラスのメソッドをオーバーライド。必要な文字列を返却する。|

### Americanクラス

下記に従い、クラスを作成してください
|クラス名|親クラス|説明|
|--------|-------|----|
|American|Human|Humanクラスを継承する|

<フィールド>  
Americanクラス個別のフィールドは定義しない。

<コンストラクタ(2つ)>  

|引数|処理|
|----|----|
|なし|親クラスのコンストラクタを呼ぶことでフィールドに初期値をセットする。<br>ただしlanguageフィールドには、別途必要な文字列をセットする|
|String, String|親クラスのコンストラクタを呼ぶことで、フィールドに引数の値を初期値としてセットする|

<メソッド(1つ)>

|戻り値|引数|メソッド名|処理|
|------|---|----------|----|
|String|なし|returnBirthPlaceInfo|親クラスのメソッドをオーバーライド。必要な文字列を返却する。|

### 補足

* Amerian.java  
新たにファイルを作成し、必要な処理を実装してください。
* Japanese.java  
新たにファイルを作成し、必要な処理を実装してください。
* InsertServlet.java  
配布されたファイルを元に、必要な処理を実装してください。

プログラム完成後、作成したファイルをプッシュし、URLを講師に伝えてください。
