# Java 単元課題2

---

[リポジトリ](https://github.com/tc-kishimoto/java-basic-task-extra)

## 基本課題

### 概要

課題は、画面遷移を伴うプログラムの実装です。
フォームに繰り返し入力される値を保持し、最後に別ページに引き渡します。

リポジトリをクローンし、Webapp/index.jspのスクリプトレットに処理を実装してください

* テキストボックスが空で「ストックする」ボタン押下
  * 何もしない
* テキストボックスが空以外で「ストックする」ボタン押下
  * セッションにカンマ区切りで値を追加
* テキストボックスが空で「ソートする」ボタン押下
  * sort.jspにリダイレクト
* テキストボックスが空以外で「ソートする」ボタン押下
  * セッションにカンマ区切りで値を追加したうえで、sort.jspにリダイレクト

以下のものは変更してはいけません。

* index.jspのスクリプトレット以外
* その他ファイル全て

値をストックしていくセッションスコープの名前は「stock」とします。
パラメーター「command」が「stock」でも「sort」でもない場合、セッションスコープの値「stock」を空文字列（""）でクリアします。
テキストボックスの値よりもこちらを優先します。
数値やカンマ以外が入力されたケースについては考慮しなくてよいです。
リダイレクトは調べましょう。

以下は課題に期待される正しい挙動です。
入力値と現在のストックを確認してください。

---

## 発展課題

課題は、ヒープソートを行うプログラムの実装です。

ヒープソートはヒープ木（特に二分ヒープ）というデータ構造を利用してO(n*log n)でソートが行えるアルゴリズムです。
配列を用いて実装することができます。
また、ソート用の領域を別途必要とせず、メモリ効率もよいアルゴリズムです。

配布されたプロジェクト内の、src/util/MainTask.javaに定義されているheapSortメソッドに、引数の数値配列をヒープソートでソートする処理を実装してください。
また、 同ファイルに定義されているtoIntArrayメソッドに、引数の文字列配列を数値配列に変換する処理を実装してください。

以下のものは変更してはいけません。

* MainTask.javaに定義されているメソッドの引数や戻り値
* その他ファイル全て

ただし、新しくメソッドを定義することはかまいません。
新しいメソッドはMainTask.javaに定義してください。
つまりMainTask.javaに処理を実装してください、ということです。

課題を進める上でインターネットによる検索は問題ありません。
特に二分ヒープの処理であるupheapやdownheapのアルゴリズムは調べる必要があるでしょう。
ただし、ヒープソートのJavaによる実装サンプルなどを直接参照することは禁止します。
実装は自分で考えて行ってください。

またプログラムの中には以下を記述してください。

* 参考にしたサイトのURL
* 実装内容に対するコメント

コメントを書く上では、How（どのような処理）ではなく、What（何をしている処理）またはWhy（なぜそういう実装なのか）を書くように心がけてください。

以下は課題に期待される正しい挙動です。

![picture 2](/images/7bd801333ef5bde6735cc60a760b3fd2c907ef771f22691ba70f5b32de1079bd.png)  
