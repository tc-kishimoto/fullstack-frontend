# Javaの基本

---

## 最もシンプルなプログラム

まずは「src\app」フォルダの中にMain.javaという名前で以下のプログラムを作成して実行してみましょう。

Main.java

```java
package app;

public class Main{
    public static void main(String[] args) {
        // コンソールに「Hello World」と出力する
        System.out.println("Hello World");
    }
}
```

結果

```text
Hello World
```

## 解説

### パッケージ宣言

Javaでは、プログラムの数が多くなった場合でも、役割毎にプログラムを管理しやすくするためにパッケージと呼ばれる機能を使ってプログラムを分けて管理できます。
PC上でフォルダを分けてファイルを管理するのと同じです。

以下のコードがパッケージ宣言です。

```java
package app;
```

先頭に上記のように書くと、「app」というパッケージに作成されるプログラムという意味になります。
しばらくは、この「app」というパッケージの中にプログラムを作成します。
パッケージについての細かな説明は後々行います。

### クラス宣言

オブジェクト指向のプログラミング言語では「クラス」と呼ばれるものを使用します。
Javaはオブジェクト指向を前提としたプログラミング言語です。
そのため、javaは「クラス」という単位でプログラムを作成します。
クラス名はそれが何を表しているかが分かる名前を付けます。
クラス名はアルファベット大文字から始まるのが習慣となっています。
クラスとはいったい何なのか、については、オブジェクト指向の解説で詳しく解説します。

構文

```java
public class クラス名 {

}
```

例

```java
// Mainというクラスを定義
public class Main{
    // ...
}
```

### メソッドの宣言

クラスの中には複数のメソッドを書くことができます。
メソッドの中には処理を書くことができます。
逆に、Javaではメソッドの中にしか処理を書くことができません。
メソッドの詳細についてはメソッドの単元で解説するのでここでは割愛します。
今は、クラスの中に以下のメソッドを定義し、その中に書けば実行できるということを知っておきましょう。

```java
public class クラス名 {
    public static void メソッド名() {
        // ここに処理を書く
    }
}
```

メソッドの名前もクラス名同様自由に付けることができますが、Javaではプログラムを実行したときに、mainという名前のメソッドが実行される決まりになっています。
しばらくはこのmainメソッドの中に処理を書いて、Javaの基礎を学んでいきます。
main以外にも「public」「static」「void」「String[] args」などのキーワードがありますが、それぞれに意味があります。
今現状は決まり文句として、しばらくは以下の構文をそのまま使用します。

```java
public static void main(String[] args) {
    // ここに処理を書く
}
```

### コンソールへの出力

コンソールに対して何かを出力したい場合は、以下のように書きます。

構文

```java
System.out.println(出力したい値);
```

正確に表現すると、
「System」というクラスの「out」というフィールドの「println」メソッドを呼び出しています。
今の時点では、そういうものか、程度の認識で問題ありません。
ちなみに、「println」を「print」にすると、出力後に改行が行われません。

Main.java

```java
package app;

public class Main {
    public static void main(String[] args) {
        // 数値を出力する場合は直接数値を書く
        System.out.println(10);
        // 文字列を出力する場合は"(ダブルクォート)でくくる
        System.out.println("abc");

        // lnを書かないと、改行をしない出力になる
        System.out.print(10);
        System.out.print("abc");
    }
}
```

結果

```text
10
abc
10abc
```

### ブロック

クラス宣言の後や、メソッド宣言の後に中かっこ（{}）が書かれています。
この中かっこに囲われた部分のことを「ブロック」と呼びます。
クラスやメソッドの開始と終了がどこなのかが、中かっこによって分かるようになっています。

Main.java

```java
package app;

public class Main { // クラスの開始
    public static void main(String[] args) { // メソッドの開始

    } // メソッドの終了
} // クラスの終了
```

### 文

メソッドのブロックの中に書いている1つ1つの処理を文と呼びます。
Javaでは文の最後はセミコロン（;）を付ける決まりになっています。

Main.java

```java
package app;

public class Main {
    public static void main(String[] args) {
        // 文 // 最後に必ずセミコロンを付ける
        System.out.println(10);
    }
}
```

### コメント

プログラムに影響を与えないものです。
プログラムの説明文などを書く場合に使用します。
Javaではコメントは3種類ある。

- 1行コメント
- 複数行コメント
- javadocコメント

の3種類です。

```java
// 1行コメント

/*
    複数行コメント
*/

/**
 *  javadocコメント
 *  javadocと呼ばれるリファレンスを出力するためのコメント
 *
 */
```

### コメントの使い方

コメントは処理に影響を与えないため、何でも自由に書くことができます。
初心者の段階では、自分が作成したソースコードに処理の説明を詳しく書くことで、プログラミングの理解が深まります。
なので、初心者でプログラミング学習中のうちは積極的にコメントを書いていきましょう。

仕事ととしてプログラミングをするときは、何の処理をしているのかをコメントに書くことはあまりありません。
何の処理をしているのかは、ソースコードの中身をみれば分かるため、「なぜそのような処理を書いたのか」のような、ソースコードからは読み取れない情報をコメントに残します。

また、ソースコードの一部をコメントにして処理を向こうにすることを「コメントアウト」と言います。
不要なコードだけど後で元に戻す可能性がある、テストのために一時的に処理を無効にしたい、などの場合、
ソースコードは消さずにコメントアウトしてテキスト上には残す場合があります。
開発時にはコメントアウトを有効に活用しましょう。

VS Codeの場合、コメントアウトしたい行を選択して、「Ctrl + /」でコメントアウトすることが可能です。

### javadocコメント

javadocコメントは、ソースコードからJavaのAPIリファレンスを作成するためのコメントです。

APIリファレンスとは

[https://docs.oracle.com/javase/jp/8/docs/api/](https://docs.oracle.com/javase/jp/8/docs/api/)
のサイトのような、Javaのプログラムの説明が書かれた文書のことです。

ソースコードにjavadocのコメントを書いておくことで、
javadocコマンドにより、APIリファレンス用のHTMLファイルを出力することができるようになります。

## コンパイルエラー

Javaでプログラムを作成した場合、実行する前に一度コンパイルする必要があります。
コンパイルする際、ソースコードに文法上の間違いあると、エラーが出てコンパイルに失敗します。
この時のエラーのことをコンパイルエラーと呼びます。
例えば以下のようなものがあります。

```java
package app;

public class Main {
    public static void main(String[] args) {
        // 文の最後にセミコロンがない場合はコンパイルエラー
        System.out.println(10)
    }
}
```

```java
package app;

public class Main {
    public static void main(String[] args) {
        System.out.println(10);
    }
 // 最後の閉じ中かっこがないのでコンパイルエラー
```

他にも様々な原因でコンパイルエラーは発生します。
自分でたくさんのプログラムを作成していく中で、
どんな場合にエラーとなるかを理解しながら、少しずつ慣れていきましょう。
エラーになってもプログラムが壊れたり何かのファイルが壊れたりすることはありません。
エラーをよく読んで冷静に対処しましょう。

VS Codeの場合、Javaの拡張機能が入っていれば、コンパイルエラーは分かりやすく表示してくれます。
エラー個所のコードに波線が表示されます。

## インデント

インデントとは、日本語では字下げと言います。
以下のプログラムを見てください。

Main.java

```java
package app;
public class Main {
public static void main(String[] args) {
// コンソールに「Hello World」と出力する
System.out.println("Hello World");
}
}
```

結果

```text
Hello World
```

最初に実行したプログラムと結果は全く同じなのですが、
全ての行が左端から始まっているため、ソースコードがなんとなく読みにくくなっています。
Javaでプログラムを書く場合は、ブロックの中に入った段階で
スペース4つ分（またはタブ2つ分）のスペースを空けることでソースを読みやすくするのが一般的です。
このようにブロックの中かくときに書くスペースのことをインデントといいます。

VS Codeを利用ソースコードを書いている場合、改行した際に自動で適切なインデントがされるようになっています。
仮にインデントが崩れてしまった場合、Shift + Alt + Fのショートカットキーにより自動でソースコードの整形が行われます。

## Java入門まとめ

- Javaプログラムは拡張子「.java」のファイルに書く。
- ファイル名はクラス名と一致する必要がある。
- Javaではクラスという単位でプログラムを作成する。
- 処理はメソッドの中に書く。
- Javaのプログラムを実行したときはmainメソッドが呼ばれる。
- コンソールへ出力を行いたい時は「System.out.println」の中に出力したいものを書く。
- Javaはコメントが3種類ある。
- ソースコードの文法が間違えているとコンパイルエラーが発生する
- ソースコードを読みやすくするためにインデントを書く

## 講義動画

[最初のプログラムの概要](https://youtu.be/FcB6UCzM-k4)
