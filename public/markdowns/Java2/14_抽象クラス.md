# 抽象クラス

---

継承を有効に活用するためのクラスとして抽象クラスと呼ばれるクラスがあります。
抽象クラスは継承されることを前提としたクラスになります。
「abstract」というキーワードを用いることで抽象クラスが作成できます。
そのため、抽象クラスのインスタンスを作成することはできません。
抽象メソッドと呼ばれる処理のないメソッドを定義し、サブクラスでオーバーライドします。
インスタンスはサブクラスで作成することになります。
うまく使うことで、開発上のミスを減らし、効率よく開発を行うことができるようになります。
抽象クラスとの対比で、抽象メソッドのない通常のクラスを「具象クラス」と呼ぶことがあります。

以下は抽象クラスを使用した継承の例です。

Character.java

```java
package app;

// 抽象クラスにはabstractを付ける
public abstract class Character {

    // 抽象メソッドはabstractを付ける
    // 処理と中かっこは書かず、セミコロンを付ける
    public abstract void attack();

    // 通常のメソッドも定義できる
    // その中で抽象メソッドを使用できる
    public void doubleAttack() {
        for (int i = 0; i < 2; i++) {
            attack();
        }
    }
}
```

Wizard.java

```java
package app;

// 抽象クラスを継承したクラス
public class Wizard extends Character{

    @Override
    public void attack() {
        System.out.println("魔法で攻撃");
    }
}
```

Main.java

```java
package app;

// 動作確認
public class Main {
    public static void main(String[] args) {
        // 抽象クラスではインスタンスの作成はできない
        // Character c = new Character();

        Character w = new Wizard();
        w.attack();
        System.out.println("----------");
        w.doubleAttack();
    }
}
```

結果

```text
魔法で攻撃
----------
魔法で攻撃
魔法で攻撃
```

## 抽象クラスの存在意義

抽象クラスを用いずとも、通常のクラスで、処理の中身のないオーバーライド前提のメソッドを作成し、サブクラスでオーバーライドすれば同じことを実現できます。
しかし、その場合、サブクラスでオーバーライドをし忘れる可能性があります。
また、スーパークラスでインスタンスを作成されてしまう可能性もあります。
抽象クラスを有効に使うことで、実装し忘れのミスを防ぐことができます。
これは、チームで開発を行うときに特に重要となる仕組みです。

## 抽象クラスのまとめ

- 抽象クラスにはクラス宣言で「abstract」を付ける
- 抽象クラスには抽象メソッドと通常のメソッドが書ける
- 抽象メソッドにはメソッド宣言で「abstract」を付け、処理や中かっこは書かない
- 抽象メソッドが1つでも定義されているクラスは抽象クラスになる
- 抽象クラスはインスタンスを作成することができない
- 抽象クラスを継承した具象クラスは、抽象メソッドをオーバーライドしなければいけない
- 抽象クラスを継承して抽象クラスを作成することもできる。その場合は抽象メソッドをオーバーライドする必要はない

## 講義動画

[抽象クラスとインターフェース](https://youtu.be/9d6UMif5neQ)
